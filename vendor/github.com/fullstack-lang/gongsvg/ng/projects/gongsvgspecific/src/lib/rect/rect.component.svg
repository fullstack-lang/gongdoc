<svg>
    <g>
        <rect   
        class="overlay"
                [attr.x]="Rect.X"
                [attr.y]="Rect.Y"
                [attr.width]="Rect.Width"
                [attr.height]="Rect.Height"
                [attr.rx]="Rect.RX"
                [attr.fill]="Rect.Color"
                [attr.fill-opacity]="Rect.FillOpacity"
                [attr.stroke]="Rect.Stroke"
                [attr.stroke-width]="Rect.StrokeWidth"
                [attr.stroke-dasharray]="Rect.IsSelected ? Rect.StrokeDashArrayWhenSelected : Rect.StrokeDashArray"
                [attr.transform]="Rect.Transform"
                (click)="onRectClick($event)"
                (mousedown)="rectMouseDown($event)"
                (mousemove)="rectMouseMove($event)"
                (mouseup)="rectMouseUp($event)">

            <animate
                    *ngFor="let animate of Rect.Animations"
                    [attr.attributeName]="animate.AttributeName"
                    [attr.values]="animate.Values"
                    [attr.dur]="animate.Dur"
                    [attr.repeatCount]="animate.RepeatCount" />

        </rect>

        <!-- Left anchor -->
        <circle
                class="overlay"
                *ngIf="Rect.HasLeftHandle"
                [attr.cx]="Rect.X"
                [attr.cy]="Rect.Y + Rect.Height / 2"
                [attr.r]="anchorRadius"
                [attr.fill]="(anchorDragging && activeAnchor === 'left') ? draggingAnchorFillColor : anchorFillColor"
                (mousedown)="anchorMouseDown($event, 'left')"
                (mousemove)="anchorMouseMove($event, 'left')"
                (mouseup)="anchorMouseUp($event)"
                (mouseleave)="anchorMouseUp($event)" />

        <!-- Right anchor -->
        <circle
                class="overlay"
                *ngIf="Rect.HasRightHandle"
                [attr.cx]="Rect.X+ Rect.Width"
                [attr.cy]="Rect.Y+ Rect.Height/2"
                [attr.r]="anchorRadius"
                [attr.fill]="(anchorDragging && activeAnchor === 'right') ? draggingAnchorFillColor : anchorFillColor"
                (mousedown)="anchorMouseDown($event, 'right')"
                (mousemove)="anchorMouseMove($event, 'right')"
                (mouseup)="anchorMouseUp($event)"
                (mouseleave)="anchorMouseUp($event)" />

        <!-- Top anchor -->
        <circle
                class="overlay"
                *ngIf="Rect.HasTopHandle"
                [attr.cx]="Rect.X + Rect.Width / 2"
                [attr.cy]="Rect.Y "
                [attr.r]="anchorRadius"
                [attr.fill]="(anchorDragging && activeAnchor === 'top') ? draggingAnchorFillColor : anchorFillColor"
                (mousedown)="anchorMouseDown($event, 'top')"
                (mousemove)="anchorMouseMove($event, 'top')"
                (mouseup)="anchorMouseUp($event)"
                (mouseleave)="anchorMouseUp($event)" />

        <!-- Bottom anchor -->
        <circle
                class="overlay"
                *ngIf="Rect.HasBottomHandle"
                [attr.cx]="Rect.X+ Rect.Width / 2"
                [attr.cy]="Rect.Y+ Rect.Height"
                [attr.r]="anchorRadius"
                [attr.fill]="(anchorDragging && activeAnchor === 'bottom') ? draggingAnchorFillColor : anchorFillColor"
                (mousedown)="anchorMouseDown($event, 'bottom')"
                (mousemove)="anchorMouseMove($event, 'bottom')"
                (mouseup)="anchorMouseUp($event)"
                (mouseleave)="anchorMouseUp($event)" />
    </g>
</svg>